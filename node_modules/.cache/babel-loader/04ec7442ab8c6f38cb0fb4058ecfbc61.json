{"ast":null,"code":"import _toConsumableArray from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lorezz/code/_react/todo-app/src/index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport Header from \"./Header\";\nimport Item from \"./Item\";\nimport AddItemForm from \"./AddItem\";\nimport { ITEMS, COLORS } from \"./constants.js\";\nimport uuid4 from \"uuid4\";\n\nfunction getIndex(value, arr, prop) {\n  var index = arr.findIndex(function (i) {\n    return i[prop] === value;\n  });\n  if (!index) index = -1;\n  return index;\n}\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.state = {\n      items: ITEMS,\n      colors: COLORS,\n      itemId: 0\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.addEventListener(\"click\", function (e) {\n        return _this2.clickOutside(e);\n      });\n    }\n  }, {\n    key: \"onItemAdd\",\n    value: function onItemAdd(name, color) {\n      var _this$state = this.state,\n          items = _this$state.items,\n          itemId = _this$state.itemId;\n      console.log(\"onItemAdd\", name, color);\n      itemId = uuid4();\n      items = [].concat(_toConsumableArray(items), [{\n        name: name,\n        color: color,\n        checked: false,\n        edit: false,\n        id: \"\" + itemId\n      }]);\n      console.log(\"ID\", itemId);\n      this.setState({\n        items: items,\n        itemId: itemId\n      });\n    }\n  }, {\n    key: \"onItemEdit\",\n    value: function onItemEdit(name, color, id) {\n      console.log(\"EDIT item ID\");\n      var items = this.state.items;\n      var item = items.find(function (i) {\n        return i.id === id;\n      }); // let item = this.state.items.find(item => item.id === name);\n      // item = { ...item, name, color, edit: false };\n      // this.setState(this.state);\n      // console.log('new name: ' + name + ' new color: ' + color + ' id: ' + id);\n    }\n  }, {\n    key: \"onItemDelete\",\n    value: function onItemDelete(index) {\n      console.log(\"DELETE INDEX\", index);\n      var items = this.state.items;\n      items.splice(index, 1);\n      this.setState({\n        items: items\n      });\n    }\n  }, {\n    key: \"onCheckedChecker\",\n    value: function onCheckedChecker(checked, id) {\n      var items = this.state.items;\n      var index = items.findIndex(function (i) {\n        return i.id === id;\n      });\n      console.log(\"INDEX\", index);\n      items[index].edit = false;\n      items[index].checked = checked;\n      var checkedNum = items.reduce(function (count, obj) {\n        if (obj.checked === true) {\n          count = count + 1;\n        }\n      }, 0);\n      var countChecked = checkedNum < 0 ? false : true;\n      this.setState({\n        items: items,\n        countChecked: countChecked,\n        checkedNum: checkedNum\n      });\n    }\n  }, {\n    key: \"onMultiDelete\",\n    value: function onMultiDelete() {\n      var items = this.state.items;\n      items = items.filter(function (i) {\n        return i.checked !== true;\n      });\n      this.setState({\n        items: items,\n        countChecked: false,\n        checkedNum: 1\n      });\n    }\n  }, {\n    key: \"onEditCheck\",\n    value: function onEditCheck(flag, id) {\n      console.log(\"EDIT\"); // var array = this.state.items;\n      // var index = getIndex(id, array, \"id\");\n      // var counter = [];\n      // this.state.items[index].edit = flag;\n      // this.setState(this.state);\n      // this.state.items.forEach(function(obj, index) {\n      //   if (obj.edit === true) {\n      //     counter.push(obj);\n      //   }\n      // });\n      // if (counter.length > 1) {\n      //   this.state.items.forEach(function(obj, index) {\n      //     obj.edit = false;\n      //   });\n      //   this.state.items[index].edit = true;\n      //   this.setState(this.state);\n      //   counter.splice(0, 1);\n      // }\n    }\n  }, {\n    key: \"clickOutside\",\n    value: function clickOutside(e) {\n      console.log(\"click outside\");\n      var items = this.state.items;\n\n      if (!document.querySelector(\"[data-area]\").contains(e.target)) {\n        items = items.map(function (i) {\n          i.edit = false;\n          return i;\n        });\n        this.setState({\n          items: items\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          checkedNum = _this$state2.checkedNum,\n          countChecked = _this$state2.countChecked,\n          items = _this$state2.items,\n          colors = _this$state2.colors;\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Header, {\n        checkedItemsFlag: countChecked,\n        number: checkedNum,\n        handleDeleteItems: this.onMultiDelete.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        className: \"list\",\n        \"data-area\": true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, items.map(function (item, index) {\n        return React.createElement(Item, {\n          name: item.name,\n          color: item.color,\n          checked: item.checked,\n          edit: item.edit,\n          key: item.id,\n          id: item.id,\n          onPassDelete: function onPassDelete() {\n            return _this3.onItemDelete(index);\n          },\n          onCheckedCheck: _this3.onCheckedChecker.bind(_this3),\n          editFlag: _this3.onEditCheck.bind(_this3),\n          editColorList: colors,\n          onEdit: _this3.onItemEdit.bind(_this3),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        });\n      })), React.createElement(AddItemForm, {\n        onAdd: this.onItemAdd.bind(this),\n        colorList: colors,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 161\n  },\n  __self: this\n}), document.getElementById(\"root\"));","map":{"version":3,"sources":["/Users/lorezz/code/_react/todo-app/src/index.js"],"names":["React","ReactDOM","Header","Item","AddItemForm","ITEMS","COLORS","uuid4","getIndex","value","arr","prop","index","findIndex","i","App","state","items","colors","itemId","window","addEventListener","e","clickOutside","name","color","console","log","checked","edit","id","setState","item","find","splice","checkedNum","reduce","count","obj","countChecked","filter","flag","document","querySelector","contains","target","map","onMultiDelete","bind","onItemDelete","onCheckedChecker","onEditCheck","onItemEdit","onItemAdd","Component","render","getElementById"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\n\nimport Header from \"./Header\";\nimport Item from \"./Item\";\nimport AddItemForm from \"./AddItem\";\nimport { ITEMS, COLORS } from \"./constants.js\";\n\nimport uuid4 from \"uuid4\";\n\nfunction getIndex(value, arr, prop) {\n  let index = arr.findIndex(i => i[prop] === value);\n  if (!index) index = -1;\n  return index;\n}\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      items: ITEMS,\n      colors: COLORS,\n      itemId: 0\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"click\", e => this.clickOutside(e));\n  }\n\n  onItemAdd(name, color) {\n    let { items, itemId } = this.state;\n    console.log(\"onItemAdd\", name, color);\n    itemId = uuid4();\n    items = [\n      ...items,\n      {\n        name,\n        color,\n        checked: false,\n        edit: false,\n        id: \"\" + itemId\n      }\n    ];\n    console.log(\"ID\",itemId);\n    this.setState({ items, itemId });\n  }\n\n  onItemEdit(name, color, id) {\n    console.log(\"EDIT item ID\");\n     let { items } = this.state;\n      let item = items.find(i => i.id === id);\n    // let item = this.state.items.find(item => item.id === name);\n    // item = { ...item, name, color, edit: false };\n    // this.setState(this.state);\n    // console.log('new name: ' + name + ' new color: ' + color + ' id: ' + id);\n  }\n\n  onItemDelete(index) {\n    console.log(\"DELETE INDEX\", index);\n    let { items } = this.state;\n    items.splice(index, 1);\n    this.setState({ items });\n  }\n\n  onCheckedChecker(checked, id) {\n    let { items } = this.state;\n    let index = items.findIndex(i => i.id === id);\n    console.log(\"INDEX\", index);\n    items[index].edit = false;\n    items[index].checked = checked;\n\n    const checkedNum = items.reduce((count, obj) => {\n      if (obj.checked === true) {\n        count = count + 1;\n      }\n    }, 0);\n    const countChecked = checkedNum < 0 ? false : true;\n    this.setState({ items, countChecked, checkedNum });\n  }\n\n  onMultiDelete() {\n    let { items } = this.state;\n    items = items.filter(i => i.checked !== true);\n    this.setState({\n      items,\n      countChecked: false,\n      checkedNum: 1\n    });\n  }\n\n  onEditCheck(flag, id) {\n    console.log(\"EDIT\");\n    // var array = this.state.items;\n    // var index = getIndex(id, array, \"id\");\n    // var counter = [];\n    // this.state.items[index].edit = flag;\n    // this.setState(this.state);\n    // this.state.items.forEach(function(obj, index) {\n    //   if (obj.edit === true) {\n    //     counter.push(obj);\n    //   }\n    // });\n    // if (counter.length > 1) {\n    //   this.state.items.forEach(function(obj, index) {\n    //     obj.edit = false;\n    //   });\n    //   this.state.items[index].edit = true;\n    //   this.setState(this.state);\n    //   counter.splice(0, 1);\n    // }\n  }\n\n  clickOutside(e) {\n    console.log(\"click outside\");\n    let { items } = this.state;\n    if (!document.querySelector(\"[data-area]\").contains(e.target)) {\n      items = items.map(i => {\n        i.edit = false;\n        return i;\n      });\n      this.setState({ items });\n    }\n  }\n\n  render() {\n    const { checkedNum, countChecked, items, colors } = this.state;\n    return (\n      <div className=\"container\">\n        <Header\n          checkedItemsFlag={countChecked}\n          number={checkedNum}\n          handleDeleteItems={this.onMultiDelete.bind(this)}\n        />\n        <ul className=\"list\" data-area>\n          {items.map((item, index) => {\n            return (\n              <Item\n                name={item.name}\n                color={item.color}\n                checked={item.checked}\n                edit={item.edit}\n                key={item.id}\n                id={item.id}\n                onPassDelete={() => this.onItemDelete(index)}\n                onCheckedCheck={this.onCheckedChecker.bind(this)}\n                editFlag={this.onEditCheck.bind(this)}\n                editColorList={colors}\n                onEdit={this.onItemEdit.bind(this)}\n              />\n            );\n          })}\n        </ul>\n        <AddItemForm onAdd={this.onItemAdd.bind(this)} colorList={colors} />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"]},"metadata":{},"sourceType":"module"}