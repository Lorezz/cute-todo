{"ast":null,"code":"import _objectSpread from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/lorezz/code/_react/todo-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/lorezz/code/_react/todo-app/src/index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport Header from \"./Header\";\nimport Item from \"./Item\";\nimport AddItemForm from \"./AddItem\";\nimport { ITEMS, COLORS } from \"./constants.js\";\nimport uuid4 from \"uuid4\";\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.state = {\n      items: ITEMS,\n      colors: COLORS,\n      itemId: 0\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.addEventListener(\"click\", function (e) {\n        return _this2.clickOutside(e);\n      });\n    }\n  }, {\n    key: \"onItemAdd\",\n    value: function onItemAdd(name, color) {\n      var _this$state = this.state,\n          items = _this$state.items,\n          itemId = _this$state.itemId;\n      console.log(\"onItemAdd\", name, color);\n      itemId = uuid4();\n      items = [].concat(_toConsumableArray(items), [{\n        name: name,\n        color: color,\n        checked: false,\n        edit: false,\n        id: \"\" + itemId\n      }]);\n      console.log(\"ID\", itemId);\n      this.setState({\n        items: items,\n        itemId: itemId\n      });\n    }\n  }, {\n    key: \"onItemEdit\",\n    value: function onItemEdit(name, color, id) {\n      console.log(\"EDIT item ID\", name, color, id);\n      var items = this.state.items;\n      var index = items.findIndex(function (i) {\n        return i.id === id;\n      });\n      items[index] = _objectSpread({}, items[index], {\n        name: name,\n        color: color,\n        edit: false\n      });\n      this.setState({\n        items: items\n      });\n    }\n  }, {\n    key: \"onItemDelete\",\n    value: function onItemDelete(index) {\n      var items = this.state.items;\n      items.splice(index, 1);\n      this.setState({\n        items: items\n      });\n    }\n  }, {\n    key: \"onCheckedChecker\",\n    value: function onCheckedChecker(checked, id) {\n      var items = this.state.items;\n      var index = items.findIndex(function (i) {\n        return i.id === id;\n      });\n      items[index].edit = false;\n      items[index].checked = checked;\n      var checkedNum = items.reduce(function (count, obj) {\n        if (obj.checked === true) {\n          count = count + 1;\n        }\n\n        return count;\n      }, 0);\n      var countChecked = checkedNum < 0 ? false : true;\n      this.setState({\n        items: items,\n        countChecked: countChecked,\n        checkedNum: checkedNum\n      });\n    }\n  }, {\n    key: \"onMultiDelete\",\n    value: function onMultiDelete() {\n      var items = this.state.items;\n      items = items.filter(function (i) {\n        return i.checked !== true;\n      });\n      this.setState({\n        items: items,\n        countChecked: false,\n        checkedNum: 1\n      });\n    }\n  }, {\n    key: \"onEditCheck\",\n    value: function onEditCheck(flag, id) {\n      console.log(\"EDIT\");\n      var items = this.state.items;\n      var index = items.findIndex(function (i) {\n        return i.id === id;\n      });\n      items[index].edit = flag;\n      var counter = items.reduce(function (count, obj) {\n        if (obj.edit === true) {\n          count += 1;\n        }\n\n        return count;\n      }, 0);\n\n      if (counter > 1) {\n        items.forEach(function (obj, index) {\n          obj.edit = false;\n        });\n        items[index].edit = true;\n        counter -= 1;\n      }\n\n      this.setState({\n        items: items\n      });\n    }\n  }, {\n    key: \"clickOutside\",\n    value: function clickOutside(e) {\n      console.log(\"click outside\");\n      var items = this.state.items;\n\n      if (!document.querySelector(\"[data-area]\").contains(e.target)) {\n        items = items.map(function (i) {\n          i.edit = false;\n          return i;\n        });\n        this.setState({\n          items: items\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          checkedNum = _this$state2.checkedNum,\n          countChecked = _this$state2.countChecked,\n          items = _this$state2.items,\n          colors = _this$state2.colors;\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Header, {\n        checkedItemsFlag: countChecked,\n        number: checkedNum,\n        handleDeleteItems: this.onMultiDelete.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        className: \"list\",\n        \"data-area\": true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, items.map(function (item, index) {\n        return React.createElement(Item, {\n          name: item.name,\n          color: item.color,\n          checked: item.checked,\n          edit: item.edit,\n          key: item.id,\n          id: item.id,\n          onPassDelete: function onPassDelete() {\n            return _this3.onItemDelete(index);\n          },\n          onCheckedCheck: _this3.onCheckedChecker.bind(_this3),\n          editFlag: _this3.onEditCheck.bind(_this3),\n          editColorList: colors,\n          onEdit: _this3.onItemEdit.bind(_this3),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        });\n      })), React.createElement(AddItemForm, {\n        onAdd: this.onItemAdd.bind(this),\n        colorList: colors,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 155\n  },\n  __self: this\n}), document.getElementById(\"root\"));","map":{"version":3,"sources":["/Users/lorezz/code/_react/todo-app/src/index.js"],"names":["React","ReactDOM","Header","Item","AddItemForm","ITEMS","COLORS","uuid4","App","state","items","colors","itemId","window","addEventListener","e","clickOutside","name","color","console","log","checked","edit","id","setState","index","findIndex","i","splice","checkedNum","reduce","count","obj","countChecked","filter","flag","counter","forEach","document","querySelector","contains","target","map","onMultiDelete","bind","item","onItemDelete","onCheckedChecker","onEditCheck","onItemEdit","onItemAdd","Component","render","getElementById"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAO,cAAP;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,WAAP,MAAwB,WAAxB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,gBAA9B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,G;;;;;AACJ,iBAAc;AAAA;;AAAA;;AACZ;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAEL,KADI;AAEXM,MAAAA,MAAM,EAAEL,MAFG;AAGXM,MAAAA,MAAM,EAAE;AAHG,KAAb;AAFY;AAOb;;;;wCAEmB;AAAA;;AAClBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,UAAAC,CAAC;AAAA,eAAI,MAAI,CAACC,YAAL,CAAkBD,CAAlB,CAAJ;AAAA,OAAlC;AACD;;;8BAESE,I,EAAMC,K,EAAO;AAAA,wBACG,KAAKT,KADR;AAAA,UACfC,KADe,eACfA,KADe;AAAA,UACRE,MADQ,eACRA,MADQ;AAErBO,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBH,IAAzB,EAA+BC,KAA/B;AACAN,MAAAA,MAAM,GAAGL,KAAK,EAAd;AACAG,MAAAA,KAAK,gCACAA,KADA,IAEH;AACEO,QAAAA,IAAI,EAAJA,IADF;AAEEC,QAAAA,KAAK,EAALA,KAFF;AAGEG,QAAAA,OAAO,EAAE,KAHX;AAIEC,QAAAA,IAAI,EAAE,KAJR;AAKEC,QAAAA,EAAE,EAAE,KAAKX;AALX,OAFG,EAAL;AAUAO,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBR,MAAlB;AACA,WAAKY,QAAL,CAAc;AAAEd,QAAAA,KAAK,EAALA,KAAF;AAASE,QAAAA,MAAM,EAANA;AAAT,OAAd;AACD;;;+BAEUK,I,EAAMC,K,EAAOK,E,EAAI;AAC1BJ,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BH,IAA5B,EAAkCC,KAAlC,EAAyCK,EAAzC;AAD0B,UAEpBb,KAFoB,GAEV,KAAKD,KAFK,CAEpBC,KAFoB;AAG1B,UAAMe,KAAK,GAAGf,KAAK,CAACgB,SAAN,CAAgB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACJ,EAAF,KAASA,EAAb;AAAA,OAAjB,CAAd;AACAb,MAAAA,KAAK,CAACe,KAAD,CAAL,qBAAoBf,KAAK,CAACe,KAAD,CAAzB;AAAkCR,QAAAA,IAAI,EAAJA,IAAlC;AAAwCC,QAAAA,KAAK,EAALA,KAAxC;AAA+CI,QAAAA,IAAI,EAAE;AAArD;AACA,WAAKE,QAAL,CAAc;AAAEd,QAAAA,KAAK,EAALA;AAAF,OAAd;AACD;;;iCAEYe,K,EAAO;AAAA,UACZf,KADY,GACF,KAAKD,KADH,CACZC,KADY;AAElBA,MAAAA,KAAK,CAACkB,MAAN,CAAaH,KAAb,EAAoB,CAApB;AACA,WAAKD,QAAL,CAAc;AAAEd,QAAAA,KAAK,EAALA;AAAF,OAAd;AACD;;;qCAEgBW,O,EAASE,E,EAAI;AAAA,UACtBb,KADsB,GACZ,KAAKD,KADO,CACtBC,KADsB;AAE5B,UAAMe,KAAK,GAAGf,KAAK,CAACgB,SAAN,CAAgB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACJ,EAAF,KAASA,EAAb;AAAA,OAAjB,CAAd;AACAb,MAAAA,KAAK,CAACe,KAAD,CAAL,CAAaH,IAAb,GAAoB,KAApB;AACAZ,MAAAA,KAAK,CAACe,KAAD,CAAL,CAAaJ,OAAb,GAAuBA,OAAvB;AAEA,UAAMQ,UAAU,GAAGnB,KAAK,CAACoB,MAAN,CAAa,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAC9C,YAAIA,GAAG,CAACX,OAAJ,KAAgB,IAApB,EAA0B;AACxBU,UAAAA,KAAK,GAAGA,KAAK,GAAG,CAAhB;AACD;;AACD,eAAOA,KAAP;AACD,OALkB,EAKhB,CALgB,CAAnB;AAMA,UAAME,YAAY,GAAGJ,UAAU,GAAG,CAAb,GAAiB,KAAjB,GAAyB,IAA9C;AACA,WAAKL,QAAL,CAAc;AAAEd,QAAAA,KAAK,EAALA,KAAF;AAASuB,QAAAA,YAAY,EAAZA,YAAT;AAAuBJ,QAAAA,UAAU,EAAVA;AAAvB,OAAd;AACD;;;oCAEe;AAAA,UACRnB,KADQ,GACE,KAAKD,KADP,CACRC,KADQ;AAEdA,MAAAA,KAAK,GAAGA,KAAK,CAACwB,MAAN,CAAa,UAAAP,CAAC;AAAA,eAAIA,CAAC,CAACN,OAAF,KAAc,IAAlB;AAAA,OAAd,CAAR;AACA,WAAKG,QAAL,CAAc;AACZd,QAAAA,KAAK,EAALA,KADY;AAEZuB,QAAAA,YAAY,EAAE,KAFF;AAGZJ,QAAAA,UAAU,EAAE;AAHA,OAAd;AAKD;;;gCAEWM,I,EAAMZ,E,EAAI;AACpBJ,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AADoB,UAEdV,KAFc,GAEJ,KAAKD,KAFD,CAEdC,KAFc;AAGpB,UAAMe,KAAK,GAAGf,KAAK,CAACgB,SAAN,CAAgB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACJ,EAAF,KAASA,EAAb;AAAA,OAAjB,CAAd;AAEAb,MAAAA,KAAK,CAACe,KAAD,CAAL,CAAaH,IAAb,GAAoBa,IAApB;AAEA,UAAIC,OAAO,GAAG1B,KAAK,CAACoB,MAAN,CAAa,UAACC,KAAD,EAAQC,GAAR,EAAgB;AACzC,YAAIA,GAAG,CAACV,IAAJ,KAAa,IAAjB,EAAuB;AACrBS,UAAAA,KAAK,IAAI,CAAT;AACD;;AACD,eAAOA,KAAP;AACD,OALa,EAKX,CALW,CAAd;;AAOA,UAAIK,OAAO,GAAG,CAAd,EAAiB;AACf1B,QAAAA,KAAK,CAAC2B,OAAN,CAAc,UAACL,GAAD,EAAMP,KAAN,EAAgB;AAC5BO,UAAAA,GAAG,CAACV,IAAJ,GAAW,KAAX;AACD,SAFD;AAGAZ,QAAAA,KAAK,CAACe,KAAD,CAAL,CAAaH,IAAb,GAAoB,IAApB;AACAc,QAAAA,OAAO,IAAI,CAAX;AACD;;AAED,WAAKZ,QAAL,CAAc;AAACd,QAAAA,KAAK,EAALA;AAAD,OAAd;AACD;;;iCAEYK,C,EAAG;AACdI,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AADc,UAERV,KAFQ,GAEE,KAAKD,KAFP,CAERC,KAFQ;;AAGd,UAAI,CAAC4B,QAAQ,CAACC,aAAT,CAAuB,aAAvB,EAAsCC,QAAtC,CAA+CzB,CAAC,CAAC0B,MAAjD,CAAL,EAA+D;AAC7D/B,QAAAA,KAAK,GAAGA,KAAK,CAACgC,GAAN,CAAU,UAAAf,CAAC,EAAI;AACrBA,UAAAA,CAAC,CAACL,IAAF,GAAS,KAAT;AACA,iBAAOK,CAAP;AACD,SAHO,CAAR;AAIA,aAAKH,QAAL,CAAc;AAAEd,UAAAA,KAAK,EAALA;AAAF,SAAd;AACD;AACF;;;6BAEQ;AAAA;;AAAA,yBAC6C,KAAKD,KADlD;AAAA,UACCoB,UADD,gBACCA,UADD;AAAA,UACaI,YADb,gBACaA,YADb;AAAA,UAC2BvB,KAD3B,gBAC2BA,KAD3B;AAAA,UACkCC,MADlC,gBACkCA,MADlC;AAEP,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,gBAAgB,EAAEsB,YADpB;AAEE,QAAA,MAAM,EAAEJ,UAFV;AAGE,QAAA,iBAAiB,EAAE,KAAKc,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAME;AAAI,QAAA,SAAS,EAAC,MAAd;AAAqB,yBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGlC,KAAK,CAACgC,GAAN,CAAU,UAACG,IAAD,EAAOpB,KAAP,EAAiB;AAC1B,eACE,oBAAC,IAAD;AACE,UAAA,IAAI,EAAEoB,IAAI,CAAC5B,IADb;AAEE,UAAA,KAAK,EAAE4B,IAAI,CAAC3B,KAFd;AAGE,UAAA,OAAO,EAAE2B,IAAI,CAACxB,OAHhB;AAIE,UAAA,IAAI,EAAEwB,IAAI,CAACvB,IAJb;AAKE,UAAA,GAAG,EAAEuB,IAAI,CAACtB,EALZ;AAME,UAAA,EAAE,EAAEsB,IAAI,CAACtB,EANX;AAOE,UAAA,YAAY,EAAE;AAAA,mBAAM,MAAI,CAACuB,YAAL,CAAkBrB,KAAlB,CAAN;AAAA,WAPhB;AAQE,UAAA,cAAc,EAAE,MAAI,CAACsB,gBAAL,CAAsBH,IAAtB,CAA2B,MAA3B,CARlB;AASE,UAAA,QAAQ,EAAE,MAAI,CAACI,WAAL,CAAiBJ,IAAjB,CAAsB,MAAtB,CATZ;AAUE,UAAA,aAAa,EAAEjC,MAVjB;AAWE,UAAA,MAAM,EAAE,MAAI,CAACsC,UAAL,CAAgBL,IAAhB,CAAqB,MAArB,CAXV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAeD,OAhBA,CADH,CANF,EAyBE,oBAAC,WAAD;AAAa,QAAA,KAAK,EAAE,KAAKM,SAAL,CAAeN,IAAf,CAAoB,IAApB,CAApB;AAA+C,QAAA,SAAS,EAAEjC,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAzBF,CADF;AA6BD;;;;EA5IeX,KAAK,CAACmD,S;;AA+IxBlD,QAAQ,CAACmD,MAAT,CAAgB,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAhB,EAAyBd,QAAQ,CAACe,cAAT,CAAwB,MAAxB,CAAzB","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\n\nimport Header from \"./Header\";\nimport Item from \"./Item\";\nimport AddItemForm from \"./AddItem\";\nimport { ITEMS, COLORS } from \"./constants.js\";\n\nimport uuid4 from \"uuid4\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      items: ITEMS,\n      colors: COLORS,\n      itemId: 0\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"click\", e => this.clickOutside(e));\n  }\n\n  onItemAdd(name, color) {\n    let { items, itemId } = this.state;\n    console.log(\"onItemAdd\", name, color);\n    itemId = uuid4();\n    items = [\n      ...items,\n      {\n        name,\n        color,\n        checked: false,\n        edit: false,\n        id: \"\" + itemId\n      }\n    ];\n    console.log(\"ID\", itemId);\n    this.setState({ items, itemId });\n  }\n\n  onItemEdit(name, color, id) {\n    console.log(\"EDIT item ID\", name, color, id);\n    let { items } = this.state;\n    const index = items.findIndex(i => i.id === id);\n    items[index] = { ...items[index], name, color, edit: false };\n    this.setState({ items });\n  }\n\n  onItemDelete(index) {\n    let { items } = this.state;\n    items.splice(index, 1);\n    this.setState({ items });\n  }\n\n  onCheckedChecker(checked, id) {\n    let { items } = this.state;\n    const index = items.findIndex(i => i.id === id);\n    items[index].edit = false;\n    items[index].checked = checked;\n\n    const checkedNum = items.reduce((count, obj) => {\n      if (obj.checked === true) {\n        count = count + 1;\n      }\n      return count;\n    }, 0);\n    const countChecked = checkedNum < 0 ? false : true;\n    this.setState({ items, countChecked, checkedNum });\n  }\n\n  onMultiDelete() {\n    let { items } = this.state;\n    items = items.filter(i => i.checked !== true);\n    this.setState({\n      items,\n      countChecked: false,\n      checkedNum: 1\n    });\n  }\n\n  onEditCheck(flag, id) {\n    console.log(\"EDIT\");\n    let { items } = this.state;\n    const index = items.findIndex(i => i.id === id);\n\n    items[index].edit = flag;\n\n    let counter = items.reduce((count, obj) => {\n      if (obj.edit === true) {\n        count += 1;\n      }\n      return count;\n    }, 0);\n\n    if (counter > 1) {\n      items.forEach((obj, index) => {\n        obj.edit = false;\n      });\n      items[index].edit = true;\n      counter -= 1;\n    }\n\n    this.setState({items});\n  }\n\n  clickOutside(e) {\n    console.log(\"click outside\");\n    let { items } = this.state;\n    if (!document.querySelector(\"[data-area]\").contains(e.target)) {\n      items = items.map(i => {\n        i.edit = false;\n        return i;\n      });\n      this.setState({ items });\n    }\n  }\n\n  render() {\n    const { checkedNum, countChecked, items, colors } = this.state;\n    return (\n      <div className=\"container\">\n        <Header\n          checkedItemsFlag={countChecked}\n          number={checkedNum}\n          handleDeleteItems={this.onMultiDelete.bind(this)}\n        />\n        <ul className=\"list\" data-area>\n          {items.map((item, index) => {\n            return (\n              <Item\n                name={item.name}\n                color={item.color}\n                checked={item.checked}\n                edit={item.edit}\n                key={item.id}\n                id={item.id}\n                onPassDelete={() => this.onItemDelete(index)}\n                onCheckedCheck={this.onCheckedChecker.bind(this)}\n                editFlag={this.onEditCheck.bind(this)}\n                editColorList={colors}\n                onEdit={this.onItemEdit.bind(this)}\n              />\n            );\n          })}\n        </ul>\n        <AddItemForm onAdd={this.onItemAdd.bind(this)} colorList={colors} />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"]},"metadata":{},"sourceType":"module"}